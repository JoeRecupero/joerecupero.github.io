<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jae's Shader Vault</title>

  <!-- Link to stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- TWGL.js for easy WebGL setup -->
  <script src="https://twgljs.org/dist/4.x/twgl-full.min.js"></script>
</head>

<body>
  <canvas id="canvas"></canvas>

  <!-- Vertex Shader -->
  <script id="vertexShader" type="x-shader/x-vertex">#version 300 es
  precision highp float;
  in vec4 position;
  void main() {
    gl_Position = vec4(position);
  }
  </script>

  <!-- Fragment Shader -->
  <script id="fragmentShader" type="x-shader/x-fragment">#version 300 es
  precision highp float;
  out vec4 fragColor;
  uniform vec2 u_resolution;
  uniform float u_time;

  #define R u_resolution
  #define T u_time

  void mainImage0(out vec4 O, in vec2 I)
  {
      vec2 p = (I + I - R) / R.y * 8.0;
      O = tanh(vec4(1.0, 2.0, 3.0, 1.0) /
                length(tan(abs(p - T)) + 8.0 * sin(p.x + T) + p));
  }

  void mainImage(out vec4 o, in vec2 u)
  {
      float s = 16.0;
      float k;
      vec2 j = vec2(0.5);
      o = vec4(0.0);
      vec4 c;

      mainImage0(c, u);
      for (k = s; k-- > 0.5; )
      {
          mainImage0(c, u + j - 0.5);
          o += c;
          j = fract(j + vec2(0.755, 0.57).yx);
      }

      o /= s;
      o.a = 1.0;
  }

  void main()
  {
      vec4 color;
      mainImage(color, gl_FragCoord.xy);
      fragColor = color;
  }
  </script>

  <!-- Main JS -->
  <script src="script.js"></script>
</body>
</html>